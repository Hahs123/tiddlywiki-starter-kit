title: $:/plugins/oeyoews/tiddlywiki-giscus/viewtemplate
tags: $:/tags/ViewTemplate

<div style="text-align: right">
  <$list filter="[all[current]!is[system]!is[draft]subfilter{$:/plugins/oeyoews/tiddlywiki-giscus/filter}]" variable="comment">

    <!-- lang -->
    <$list filter="[[$:/language]get[text]removeprefix[$:/languages/]else[en-GB]]" variable="lang">

        <!-- en -->
      <$list filter="[<lang>!search[zh]]">
        <$set name="stateTiddler" value="$:/state/oeyoews/github-giscus-comments">
          <$reveal type="nomatch" state=<<stateTiddler>> text=<<currentTiddler>>>
              <$button class="tc-btn-invisible" set=<<stateTiddler>> setTo=<<currentTiddler>> >
                {{$:/core/images/down-arrow}}
                {{$:/plugins/oeyoews/tiddlywiki-giscus/icon}} Show Comments
              </$button>
          </$reveal>
          <$reveal type="match" state=<<stateTiddler>> text=<<currentTiddler>>>
              <$button class="tc-btn-invisible" set=<<stateTiddler>> setTo="">
                {{$:/core/images/up-arrow}}
                {{$:/plugins/oeyoews/tiddlywiki-giscus/icon}} Hide Comments
              </$button>
              <$giscus id=<<comment>> lang="en" theme="light"/>
          </$reveal>
        </$set>
      </$list>

      <!-- cn -->
      <$list filter="[<lang>search[zh]]">
        <$set name="stateTiddler" value="$:/state/oeyoews/github-giscus-comments">
          <$reveal type="nomatch" state=<<stateTiddler>> text=<<currentTiddler>>>
              <$button class="tc-btn-invisible" set=<<stateTiddler>> setTo=<<currentTiddler>> >
                {{$:/core/images/down-arrow}}
                {{$:/plugins/oeyoews/tiddlywiki-giscus/icon}} 显示评论
              </$button>
          </$reveal>
          <$reveal type="match" state=<<stateTiddler>> text=<<currentTiddler>>>
              <$button class="tc-btn-invisible" set=<<stateTiddler>> setTo="">
                {{$:/core/images/up-arrow}}
                {{$:/plugins/oeyoews/tiddlywiki-giscus/icon}} 隐藏评论
              </$button>
              <$giscus id=<<comment>> lang="zh-CN" theme="light"/>
          </$reveal>
        </$set>
      </$list>

  </$list>

</$list>

</div>
