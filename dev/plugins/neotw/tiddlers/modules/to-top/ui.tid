title: $:/plugins/oeyoews/neotw/modules/to-top/ui
tags: $:/tags/PageTemplate

\whitespace trim
<$list filter="[[$:/StoryList]get[list]!is[blank]]">
<!-- more two tiddler -->
<$list filter="[list[$:/StoryList]count[]compare:number:gt[2]]">
<div id="stx-story-top">
<!-- zen mode -->
<$list filter="[[$:/temp/zen-mode]is[missing]] [[$:/temp/zen-mode]get[text]match[no]]">
<$button class=<<tv-config-toolbar-class>> tooltip="zen mode" class="o-btn-back">
<$action-setfield $tiddler="$:/temp/zen-mode" text="yes"/>
<$action-sendmessage $message="tm-full-screen"/>
  <$list filter="[<tv-config-toolbar-icons>match[yes]]">
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M5 5h5V3H3v7h2zm5 14H5v-5H3v7h7zm11-5h-2v5h-5v2h7zm-2-4h2V3h-7v2h5z"></path></svg>
  </$list>
</$button>
</$list>
<!-- exit zen-mode -->
<$list filter="[[$:/temp/zen-mode]get[text]match[yes]]">
<$button class=<<tv-config-toolbar-class>> tooltip="back non-zen mode" class="o-btn-back">
<$action-setfield $tiddler="$:/temp/zen-mode" text="no"/>
<$action-sendmessage $message="tm-full-screen"/>
  <$list filter="[<tv-config-toolbar-icons>match[yes]]">
<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 4H8v4H4v2h6zM8 20h2v-6H4v2h4zm12-6h-6v6h2v-4h4zm0-6h-4V4h-2v6h6z"></path></svg>
  </$list>
</$button>
</$list>
<!-- home to SimpleMode or emptystorymessage -->
<$button class=<<tv-config-toolbar-class>> tooltip="back to simple mode" class="o-btn-back">
<$action-navigate $to="GettingStarted" $scroll="yes"/>
<!-- close all tiddlers -->
<!-- <$action-sendmessage $message="tm-close-all-tiddlers"/> -->
<!-- <$action-setfield $tiddler="$:/temp/SimpleMode" text="yes"/> -->
<$list filter="[<tv-config-toolbar-icons>match[yes]]">
<svg stroke="currentColor" fill="none" stroke-width="1.5" viewBox="0 0 24 24" aria-hidden="true" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"></path></svg>
</$list>
</$button>
<!-- top -->
<$button class=<<tv-config-toolbar-class>> tooltip="back to top" class="o-btn-back">
<$list variable="target" filter="[list[$:/StoryList]first[]]">
<$action-navigate $to=<<target>> $scroll="yes"/>
</$list>
<$list filter="[<tv-config-toolbar-icons>match[yes]]">
<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h24v24H0z"></path><path d="M8 11h3v10h2V11h3l-4-4-4 4zM4 3v2h16V3H4z"></path></svg>
</$list>
</$button>
<!-- bottom -->
<$button class=<<tv-config-toolbar-class>> tooltip="back to bottom" class="o-btn-back">
<$list variable="target" filter="[list[$:/StoryList]last[]]">
<$action-navigate $to=<<target>> $scroll="yes"/>
</$list>
<$list filter="[<tv-config-toolbar-icons>match[yes]]">
<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h24v24H0z"></path><path d="M16 13h-3V3h-2v10H8l4 4 4-4zM4 19v2h16v-2H4z"></path></svg>
</$list>
</$button>
</div>
</$list>
</$list>

<$list filter="[[$:/StoryList]get[list]count[]match[0]]">
<div id="stx-story-top">
<!-- home on emptystorymessage -->
<$button class=<<tv-config-toolbar-class>> tooltip="back to main mode" class="o-btn-back">
<!-- enter no-simplemode  -->
<$action-navigate $to="GettingStarted" $scroll="no"/>
<!-- <$action-setfield $tiddler="$:/temp/SimpleMode" text="no"/> -->
<$list filter="[<tv-config-toolbar-icons>match[yes]]">
<svg stroke="currentColor" fill="none" stroke-width="1.5" viewBox="0 0 24 24" aria-hidden="true" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"></path></svg>
</$list>
</$button>
<!-- load buttons -->
<$set name="a-total" value={{{ [field:publish[article]count[]] }}}>
<$set name="a-num" value={{{ [[$:/temp/articles/number]get[number]else[1]add[1]] }}}>
<$list filter="[<a-num>compare:number:lteq<a-total>]">
<center>
	<$button class="o-btn-back" tooltip="load rencent articles">
     <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"></path></svg>
  <$action-setfield $tiddler="$:/temp/articles/number" number={{{ [<a-num>] }}}/>
	</$button>
</center>
</$list>
</$set>
</$set>
</div>
</$list>

<$list filter="[[$:/StoryList]get[list]!is[blank]]">
<$list filter="[list[$:/StoryList]count[]compare:number:lteq[2]]">
<div id="stx-story-top">
<!-- zen mode -->
<$list filter="[[$:/temp/zen-mode]is[missing]] [[$:/temp/zen-mode]get[text]match[no]]">
<$button class=<<tv-config-toolbar-class>> tooltip="zen mode" class="o-btn-back">
<$action-setfield $tiddler="$:/temp/zen-mode" text="yes"/>
<$action-sendmessage $message="tm-full-screen"/>
  <$list filter="[<tv-config-toolbar-icons>match[yes]]">
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M5 5h5V3H3v7h2zm5 14H5v-5H3v7h7zm11-5h-2v5h-5v2h7zm-2-4h2V3h-7v2h5z"></path></svg>
  </$list>
</$button>
</$list>
<!-- exit zen-mode -->
<$list filter="[[$:/temp/zen-mode]get[text]match[yes]]">
<$button class=<<tv-config-toolbar-class>> tooltip="back non-zen mode" class="o-btn-back">
<$action-setfield $tiddler="$:/temp/zen-mode" text="no"/>
<$action-sendmessage $message="tm-full-screen"/>
  <$list filter="[<tv-config-toolbar-icons>match[yes]]">
<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 4H8v4H4v2h6zM8 20h2v-6H4v2h4zm12-6h-6v6h2v-4h4zm0-6h-4V4h-2v6h6z"></path></svg>
  </$list>
</$button>
</$list>
</div>
</$list>
</$list>
