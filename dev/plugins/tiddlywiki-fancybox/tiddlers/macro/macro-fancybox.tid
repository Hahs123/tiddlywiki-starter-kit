title: $:/plugins/oeyoews/tiddlywiki-fancybox/macro/fancybox
tags: $:/tags/Macro

\whitespace trim

\define fbox(links, caption, group, width:256)
<$list filter="[enlist<__links__>]" variable="link">
<!-- https: -->
<$list filter="[<link>prefix[https:]]">
    <a
      href=<<link>>
      data-fancybox=<<qualify  """$group$""">>
      data-caption="""$caption$""">
      <$image
        source=<<link>>
        loading="lazy"
        tooltip=<<link>>
        width=$width$/>
    </a>
</$list>
<!-- binary -->
<$list filter="[<link>is[binary]!has[_canonical_uri]]">
  <a
     data-fancybox="""$group$"""
     data-caption="""$caption$"""
     href={{{ [<link>get[text]] [[;base64,]] [<link>get[type]] [[data:]] :and[reverse[]join[]] }}}
     >
    <$image
      source=<<link>>
      tooltip=<<link>>
      loading="lazy"
      width=$width$
      class="rounded"/>
  </a>
	</$list>
  <!-- not supported binary -->
<$list filter="[<link>!prefix[https:]!is[binary]!has[_canonical_uri]]">
<span style="color:red;">This image not supported by </span> [[Fancybox Plugin|$:/plugins/oeyoews/tiddlywiki-fancybox]]
	</$list>
</$list>
\end
