version: "3" # Docker Compose 版本

services:
  web:
    image: oeyoews/tiddlywiki:latest
    ports:
      - "8080:8080" # 映射端口，将主机的 8080 端口映射到容器的 8080 端口
    volumes:
      - ./:/app # 挂载本地目录到容器/app中
    # 接受tw的任何参数
    # start
    # command: ["tiddlywiki", "--listen", "port=8080", "host=0.0.0.0"]
    # build
    command: ["tiddlywiki", "--build", "index"]